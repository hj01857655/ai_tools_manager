# AI工具自动化注册登录功能指南

## 功能概述

AI工具管理器现在集成了DrissionPage自动化技术，支持以下AI工具的自动注册和登录：

- **Cursor** - AI驱动的代码编辑器
- **Windsurf** - AI代码编辑器和开发环境  
- **Augment** - AI代码补全和开发工具

## 安装依赖

在使用自动化功能之前，需要安装DrissionPage库：

```bash
pip install DrissionPage>=4.0.0
```

## 功能特性

### 🤖 自动注册功能
- **智能表单填写**：自动识别和填写注册表单
- **多字段支持**：邮箱、密码、用户名、姓名、公司等
- **条款处理**：自动勾选服务条款和隐私政策
- **错误检测**：自动检测注册错误和账号冲突
- **邮箱验证提醒**：检测需要邮箱验证的情况

### 🔐 自动登录功能
- **凭据验证**：自动输入邮箱和密码
- **记住我选项**：支持"记住我"功能
- **错误处理**：检测登录失败和无效凭据
- **验证码检测**：识别需要人工处理的验证码

### 🛡️ 安全特性
- **随机延迟**：模拟人工操作，避免被检测
- **用户代理伪装**：使用真实浏览器标识
- **截图记录**：自动保存操作截图用于调试
- **错误恢复**：智能处理网络错误和超时

## 使用方法

### 1. 打开自动化对话框

在主界面中：
1. 点击导航栏的"更多操作"按钮
2. 选择"🤖 自动化注册登录"

### 2. 自动注册账号

在"自动注册"选项卡中：

1. **选择AI工具类型**：从下拉菜单选择要注册的工具
2. **填写基本信息**：
   - 邮箱：必填，用于注册的邮箱地址
   - 密码：必填，账号密码
3. **填写可选信息**（根据需要）：
   - 用户名：部分平台需要
   - 名字/姓氏：个人信息
   - 公司：企业用户可填写
4. **选择运行模式**：
   - ✅ 后台运行：不显示浏览器窗口（推荐）
   - ❌ 前台运行：显示浏览器操作过程
5. **点击"开始自动注册"**

### 3. 自动登录账号

在"自动登录"选项卡中：

1. **选择AI工具类型**：选择要登录的工具
2. **填写登录信息**：
   - 邮箱：登录邮箱
   - 密码：登录密码
3. **选择选项**：
   - 记住我：保持登录状态
   - 后台运行：隐藏浏览器窗口
4. **点击"开始自动登录"**

## 操作结果

### ✅ 成功状态
- **注册成功**：账号创建完成，可选择添加到系统管理
- **登录成功**：成功登录到对应平台

### ⚠️ 需要手动干预
- **邮箱验证**：需要检查邮箱并点击验证链接
- **验证码**：需要手动完成图形验证码或reCAPTCHA
- **手机验证**：需要输入手机验证码

### ❌ 失败状态
- **账号已存在**：邮箱已被注册
- **凭据无效**：登录邮箱或密码错误
- **网络错误**：网络连接问题
- **页面加载失败**：目标网站无法访问

## 自动化流程详解

### 注册流程
1. **初始化浏览器**：配置Chrome浏览器选项
2. **访问注册页面**：导航到目标平台注册页
3. **等待页面加载**：确保表单元素可用
4. **填写表单字段**：
   - 邮箱地址
   - 密码（可能需要确认密码）
   - 用户名（如果需要）
   - 个人信息（姓名、公司等）
5. **处理条款勾选**：自动勾选必要的复选框
6. **提交注册**：点击注册按钮
7. **检测结果**：
   - 成功：跳转到仪表板或欢迎页
   - 需要验证：显示邮箱验证提示
   - 失败：显示错误信息

### 登录流程
1. **访问登录页面**：导航到登录页面
2. **输入凭据**：填写邮箱和密码
3. **处理选项**：勾选"记住我"（如果选择）
4. **提交登录**：点击登录按钮
5. **验证结果**：
   - 成功：跳转到用户仪表板
   - 失败：显示错误信息
   - 需要验证：检测验证码要求

## 技术实现

### 核心技术栈
- **DrissionPage**：基于Chrome DevTools的自动化框架
- **智能选择器**：多种CSS选择器策略
- **异常处理**：完善的错误处理和恢复机制
- **截图调试**：自动保存操作截图

### 选择器策略
每个操作都使用多种选择器策略确保兼容性：

```python
# 邮箱输入框选择器
email_selectors = [
    'input[type="email"]',
    'input[name="email"]',
    'input[placeholder*="email"]',
    'input[placeholder*="Email"]'
]

# 注册按钮选择器
register_selectors = [
    'button[type="submit"]',
    'button:contains("Sign Up")',
    'button:contains("Register")',
    'button:contains("Create Account")',
    'input[type="submit"]'
]
```

### 错误处理机制
- **超时处理**：设置合理的等待时间
- **网络重试**：自动重试网络请求
- **元素检测**：确保元素存在后再操作
- **状态验证**：多种方式验证操作结果

## 注意事项

### ⚠️ 使用限制
1. **网站变更**：目标网站更新可能影响自动化效果
2. **反爬虫机制**：部分网站可能有反自动化措施
3. **验证码**：遇到验证码需要手动处理
4. **网络环境**：需要稳定的网络连接

### 🔒 安全建议
1. **密码安全**：使用强密码并妥善保管
2. **邮箱安全**：确保注册邮箱安全可控
3. **定期检查**：定期验证账号状态
4. **备份信息**：及时备份重要账号信息

### 📝 最佳实践
1. **测试环境**：先在测试环境验证功能
2. **分批操作**：避免大量并发注册
3. **监控结果**：关注自动化执行结果
4. **手动验证**：重要账号建议手动验证

## 故障排除

### 常见问题

**Q: 提示"功能不可用"**
A: 需要安装DrissionPage库：`pip install DrissionPage`

**Q: 浏览器启动失败**
A: 检查Chrome浏览器是否正确安装

**Q: 页面加载超时**
A: 检查网络连接，或增加超时时间

**Q: 找不到页面元素**
A: 目标网站可能已更新，需要更新选择器

**Q: 注册失败显示"账号已存在"**
A: 该邮箱已被注册，请使用其他邮箱

### 调试方法
1. **查看截图**：检查screenshots目录下的截图文件
2. **前台运行**：取消"后台运行"选项观察浏览器操作
3. **检查日志**：查看控制台输出的错误信息
4. **手动验证**：手动访问目标网站确认页面结构

## 更新日志

### v1.0.0 (当前版本)
- ✅ 支持Cursor、Windsurf、Augment自动注册
- ✅ 支持自动登录功能
- ✅ 集成DrissionPage自动化框架
- ✅ 完善的错误处理和状态检测
- ✅ 截图调试功能
- ✅ 多选择器策略确保兼容性

### 计划功能
- 🔄 支持更多AI工具平台
- 🔄 批量操作功能
- 🔄 定时任务支持
- 🔄 验证码自动识别
- 🔄 代理支持

## 技术支持

如果在使用过程中遇到问题，请：

1. 查看本指南的故障排除部分
2. 检查screenshots目录下的截图
3. 确认DrissionPage库版本兼容性
4. 验证目标网站是否可正常访问

---

**免责声明**：本功能仅用于合法的账号管理目的。请遵守各平台的服务条款，不要用于恶意注册或其他违法行为。
